---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CookieBanner from '../components/CookieBanner.astro';
import NexusToast from '../components/NexusToast.astro';
import HeroCarousel from '../components/HeroCarousel.astro';
import AboutInled from '../components/AboutInled.astro';
import ServicesSection from '../components/ServicesSection.astro';
import ProjectsSection from '../components/ProjectsSection.astro';
import HeroCTA from '../components/HeroCTA.astro';
---

<Layout>
    <title>Inled Group | We make a better World</title>
    <meta name="description" content="We make a better world · Hacemos un mundo mejor | Descubre nuestros proyectos y servicios de desarrollo con IA, diseño web, aplicaciones móviles y más">
	<Header />
	<HeroCarousel />
	<AboutInled />
	<ServicesSection />
	<ProjectsSection />
	<HeroCTA />
	<Footer />
	<CookieBanner />
	<NexusToast />
</Layout>

<style is:global>
	/* Estilos globales para la nueva página de inicio */
	body {
		background: #000000;
		overflow-x: hidden;
	}

	/* Smooth scrolling */
	html {
		scroll-behavior: smooth;
	}

	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 8px;
	}

	::-webkit-scrollbar-track {
		background: #111111;
	}

	::-webkit-scrollbar-thumb {
		background: linear-gradient(135deg, #3bb4fc, #2a9de8);
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(135deg, #2a9de8, #3bb4fc);
	}

	/* Loading animation */
	.page-loader {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: #000000;
		z-index: 9999;
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 1;
		transition: opacity 0.5s ease;
	}

	.page-loader.hidden {
		opacity: 0;
		pointer-events: none;
	}

	.loader-spinner {
		width: 50px;
		height: 50px;
		border: 3px solid rgba(59, 180, 252, 0.3);
		border-radius: 50%;
		border-top-color: #3bb4fc;
		animation: spin 1s ease-in-out infinite;
	}

	@keyframes spin {
		to {
			transform: rotate(360deg);
		}
	}

	/* Focus indicators */
	*:focus-visible {
		outline: 2px solid #3bb4fc;
		outline-offset: 2px;
	}

	/* Selection styling */
	::selection {
		background: rgba(59, 180, 252, 0.3);
		color: #ffffff;
	}

	/* Reduced motion support */
	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
			scroll-behavior: auto !important;
		}
	}
</style>

<script is:inline>
	// Page loader
	document.addEventListener('DOMContentLoaded', function() {
		// Hide loader after page is fully loaded
		window.addEventListener('load', function() {
			const loader = document.querySelector('.page-loader');
			if (loader) {
				setTimeout(() => {
					loader.classList.add('hidden');
				}, 500);
			}
		});

		// Smooth scroll for anchor links
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const target = document.querySelector(this.getAttribute('href'));
				if (target) {
					target.scrollIntoView({
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		});

		// Intersection Observer for animations
		const observerOptions = {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('in-view');
				}
			});
		}, observerOptions);

		// Observe all sections
		document.querySelectorAll('section').forEach(section => {
			observer.observe(section);
		});

		// Performance optimization: Lazy load images
		if ('loading' in HTMLImageElement.prototype) {
			const images = document.querySelectorAll('img[loading="lazy"]');
			images.forEach(img => {
				img.src = img.src;
			});
		} else {
			// Fallback for browsers that don't support native lazy loading
			const script = document.createElement('script');
			script.src = 'https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver';
			document.head.appendChild(script);
		}
	});
</script>
